

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3. Charliecloud command reference &mdash; Charliecloud 0.2.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="search" title="Search" href="search.html"/>
        <link rel="copyright" title="Copyright" href="copyright.html"/>
    <link rel="top" title="Charliecloud 0.2.3 documentation" href="index.html"/>
        <link rel="next" title="4. VirtualBox appliance" href="virtualbox.html"/>
        <link rel="prev" title="2. Tutorial" href="tutorial.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Charliecloud
          

          
          </a>

          
            
            
              <div class="version">
                07fca0b
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">2. Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Charliecloud command reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ch-build">3.1. ch-build</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">3.1.1. Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#description">3.1.2. Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">3.1.3. Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ch-build2dir">3.2. ch-build2dir</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">3.2.1. Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">3.2.2. Description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ch-docker2tar">3.3. ch-docker2tar</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">3.3.1. Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">3.3.2. Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">3.3.3. Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ch-docker-run">3.4. ch-docker-run</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">3.4.1. Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">3.4.2. Description</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ch-run">3.5. ch-run</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">3.5.1. Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">3.5.2. Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">3.5.3. Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ch-ssh">3.6. ch-ssh</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">3.6.1. Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">3.6.2. Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">3.6.3. Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ch-tar2dir">3.7. ch-tar2dir</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id13">3.7.1. Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">3.7.2. Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">3.7.3. Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="virtualbox.html">4. VirtualBox appliance</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">5. Frequently asked questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">6. Copyright and license</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Charliecloud</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>3. Charliecloud command reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="charliecloud-command-reference">
<h1>3. Charliecloud command reference<a class="headerlink" href="#charliecloud-command-reference" title="Permalink to this headline">¶</a></h1>
<p>This section is a comprehensive description of the usage and arguments of the
Charliecloud commands. Its content is identical to the commands’ man pages.</p>
<div class="section" id="ch-build">
<h2>3.1. ch-build<a class="headerlink" href="#ch-build" title="Permalink to this headline">¶</a></h2>
<p>Wrapper for <code class="code docutils literal"><span class="pre">docker</span> <span class="pre">build</span></code> that works around some of its annoying
behaviors.</p>
<div class="section" id="synopsis">
<h3>3.1.1. Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ch-build -t TAG <span class="o">[</span>ARGS ...<span class="o">]</span> CONTEXT
</pre></div>
</div>
</div>
<div class="section" id="description">
<h3>3.1.2. Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h3>
<p>Build a Docker image named <code class="code docutils literal"><span class="pre">TAG</span></code> described by Dockerfile
<code class="code docutils literal"><span class="pre">./Dockerfile</span></code> or as specified. Pass the HTTP proxy environment
variables through with <code class="code docutils literal"><span class="pre">--build-arg</span></code>.</p>
<p>Sudo privileges are required to run the <code class="code docutils literal"><span class="pre">docker</span></code> command.</p>
<p>Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><code class="code docutils literal"><span class="pre">--file</span></code></dt>
<dd>Dockerfile to use (default: <code class="code docutils literal"><span class="pre">./Dockerfile</span></code>)</dd>
<dt><code class="code docutils literal"><span class="pre">-t</span></code></dt>
<dd>name (tag) of Docker image to build</dd>
<dt><code class="code docutils literal"><span class="pre">--help</span></code></dt>
<dd>print help and exit</dd>
<dt><code class="code docutils literal"><span class="pre">--version</span></code></dt>
<dd>print version and exit</dd>
</dl>
</div></blockquote>
<p>Additional arguments are accepted and passed unchanged to <code class="code docutils literal"><span class="pre">docker</span>
<span class="pre">build</span></code>.</p>
</div>
<div class="section" id="examples">
<h3>3.1.3. Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>Create a Docker image tagged <code class="code docutils literal"><span class="pre">foo</span></code> and specified by the file
<code class="code docutils literal"><span class="pre">Dockerfile</span></code> located in the current working directory. Use <code class="code docutils literal"><span class="pre">/bar</span></code>
as the Docker context directory:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ch-build -t foo /bar
</pre></div>
</div>
<p>Equivalent to above:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ch-build -t foo --file<span class="o">=</span>./Dockerfile /bar
</pre></div>
</div>
<p>Instead, use the Dockerfile <code class="code docutils literal"><span class="pre">/baz/qux.docker</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ch-build -t foo --file<span class="o">=</span>/baz/qux.docker /bar
</pre></div>
</div>
<p>Note that calling your Dockerfile anything other than <code class="code docutils literal"><span class="pre">Dockerfile</span></code> will
confuse people.</p>
</div>
</div>
<div class="section" id="ch-build2dir">
<h2>3.2. ch-build2dir<a class="headerlink" href="#ch-build2dir" title="Permalink to this headline">¶</a></h2>
<p>Build a Charliecloud image from Dockerfile and unpack it.</p>
<div class="section" id="id1">
<h3>3.2.1. Synopsis<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ch-build2dir CONTEXT DEST <span class="o">[</span>ARGS ...<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>3.2.2. Description<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Build a Docker image as specified by the file <code class="code docutils literal"><span class="pre">Dockerfile</span></code> in the
current working directory and context directory <code class="code docutils literal"><span class="pre">CONTEXT</span></code>. Unpack it in
<code class="code docutils literal"><span class="pre">DEST</span></code>.</p>
<p>Sudo privileges are required to run the <code class="code docutils literal"><span class="pre">docker</span></code> command.</p>
<p>This runs the following command sequence: <code class="code docutils literal"><span class="pre">ch-build</span></code>,
<code class="code docutils literal"><span class="pre">ch-docker2tar</span></code>, and <code class="code docutils literal"><span class="pre">ch-tar2dir</span></code> but provides less flexibility
than the individual commands.</p>
<p>Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><code class="code docutils literal"><span class="pre">CONTEXT</span></code></dt>
<dd>Docker context directory</dd>
<dt><code class="code docutils literal"><span class="pre">DEST</span></code></dt>
<dd>directory in which to place image tarball and directory</dd>
<dt><code class="code docutils literal"><span class="pre">ARGS</span></code></dt>
<dd>additional arguments passed to <code class="code docutils literal"><span class="pre">ch-build</span></code></dd>
<dt><code class="code docutils literal"><span class="pre">--help</span></code></dt>
<dd>print help and exit</dd>
<dt><code class="code docutils literal"><span class="pre">--version</span></code></dt>
<dd>print version and exit</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="ch-docker2tar">
<h2>3.3. ch-docker2tar<a class="headerlink" href="#ch-docker2tar" title="Permalink to this headline">¶</a></h2>
<p>Flatten a Docker image into a Charliecloud image tarball.</p>
<div class="section" id="id3">
<h3>3.3.1. Synopsis<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ch-docker2tar IMAGE OUTDIR
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>3.3.2. Description<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Flattens the Docker image tagged <code class="code docutils literal"><span class="pre">IMAGE</span></code> into a Charliecloud tarball in
directory <code class="code docutils literal"><span class="pre">OUTDIR</span></code>.</p>
<p>Sudo privileges are required to run <code class="code docutils literal"><span class="pre">docker</span> <span class="pre">export</span></code>.</p>
<p>Additional arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><code class="code docutils literal"><span class="pre">--help</span></code></dt>
<dd>print help and exit</dd>
<dt><code class="code docutils literal"><span class="pre">--version</span></code></dt>
<dd>print version and exit</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="example">
<h3>3.3.3. Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ch-docker2tar hello /var/tmp
<span class="go">57M /var/tmp/hello.tar.gz</span>
<span class="gp">$</span> ls -lh /var/tmp
<span class="go">-rw-r-----  1 reidpr reidpr  57M Feb 13 16:14 hello.tar.gz</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ch-docker-run">
<h2>3.4. ch-docker-run<a class="headerlink" href="#ch-docker-run" title="Permalink to this headline">¶</a></h2>
<p>Run a command in a Docker container.</p>
<div class="section" id="id5">
<h3>3.4.1. Synopsis<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ch-docker-run <span class="o">[</span>-i<span class="o">]</span> <span class="o">[</span>-b HOSTDIR:GUESTDIR ...<span class="o">]</span> TAG CMD <span class="o">[</span>ARGS ...<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>3.4.2. Description<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Runs the command <code class="code docutils literal"><span class="pre">CMD</span></code> in a Docker container using the image named
<code class="code docutils literal"><span class="pre">TAG</span></code>.</p>
<p>Sudo privileges are required for <code class="code docutils literal"><span class="pre">docker</span> <span class="pre">run</span></code>.</p>
<p><code class="code docutils literal"><span class="pre">CMD</span></code> is run under your user ID. The users and groups inside the
container match those on the host.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This command is intended as a convenience for debugging images and
Charliecloud. Routine use for running applications is not recommended.
Instead, use <code class="code docutils literal"><span class="pre">ch-run</span></code>.</p>
</div>
<p>Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><code class="code docutils literal"><span class="pre">-i</span></code></dt>
<dd>run interactively with a pseudo-TTY</dd>
<dt><code class="code docutils literal"><span class="pre">-b</span></code></dt>
<dd>bind-mount <code class="code docutils literal"><span class="pre">HOSTDIR</span></code> at <code class="code docutils literal"><span class="pre">GUESTDIR</span></code> inside the container (can
be repeated)</dd>
<dt><code class="code docutils literal"><span class="pre">--help</span></code></dt>
<dd>print help and exit</dd>
<dt><code class="code docutils literal"><span class="pre">--version</span></code></dt>
<dd>print version and exit</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="ch-run">
<h2>3.5. ch-run<a class="headerlink" href="#ch-run" title="Permalink to this headline">¶</a></h2>
<p>Run a command in a Charliecloud container.</p>
<div class="section" id="id7">
<h3>3.5.1. Synopsis<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ch-run <span class="o">[</span>OPTION...<span class="o">]</span> NEWROOT CMD <span class="o">[</span>ARG...<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id8">
<h3>3.5.2. Description<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Run command <code class="code docutils literal"><span class="pre">CMD</span></code> in a Charliecloud container using the flattened and
unpacked image directory located at <code class="code docutils literal"><span class="pre">NEWROOT</span></code>.</p>
<blockquote>
<div><dl class="docutils">
<dt><code class="code docutils literal"><span class="pre">-b</span></code>, <code class="code docutils literal"><span class="pre">--bind=SRC[:DST]</span></code></dt>
<dd>mount <code class="code docutils literal"><span class="pre">SRC</span></code> at guest <code class="code docutils literal"><span class="pre">DST</span></code> (default <code class="code docutils literal"><span class="pre">/mnt/0</span></code>,
<code class="code docutils literal"><span class="pre">/mnt/1</span></code>, etc.)</dd>
<dt><code class="code docutils literal"><span class="pre">-c</span></code>, <code class="code docutils literal"><span class="pre">--cd=DIR</span></code></dt>
<dd>initial working directory in container</dd>
<dt><code class="code docutils literal"><span class="pre">-g</span></code>, <code class="code docutils literal"><span class="pre">--gid=GID</span></code></dt>
<dd>run as group <code class="code docutils literal"><span class="pre">GID</span></code> within container</dd>
<dt><code class="code docutils literal"><span class="pre">--is-setuid</span></code></dt>
<dd>exit successfully if compiled for setuid, else fail</dd>
<dt><code class="code docutils literal"><span class="pre">--no-home</span></code></dt>
<dd>do not bind-mount your home directory (by default, your home directory is
mounted at <code class="code docutils literal"><span class="pre">/home/$USER</span></code> in the container)</dd>
<dt><code class="code docutils literal"><span class="pre">-t</span></code>, <code class="code docutils literal"><span class="pre">--private-tmp</span></code></dt>
<dd>use container-private <code class="code docutils literal"><span class="pre">/tmp</span></code> (by default, <code class="code docutils literal"><span class="pre">/tmp</span></code> is shared with
the host)</dd>
<dt><code class="code docutils literal"><span class="pre">-u</span></code>, <code class="code docutils literal"><span class="pre">--uid=UID</span></code></dt>
<dd>run as user <code class="code docutils literal"><span class="pre">UID</span></code> within container</dd>
<dt><code class="code docutils literal"><span class="pre">-v</span></code>, <code class="code docutils literal"><span class="pre">--verbose</span></code></dt>
<dd>be more verbose (debug if repeated)</dd>
<dt><code class="code docutils literal"><span class="pre">-w</span></code>, <code class="code docutils literal"><span class="pre">--write</span></code></dt>
<dd>mount image read-write (by default, the image is mounted read-only)</dd>
<dt><code class="code docutils literal"><span class="pre">-?</span></code>, <code class="code docutils literal"><span class="pre">--help</span></code></dt>
<dd>print help and exit</dd>
<dt><code class="code docutils literal"><span class="pre">--usage</span></code></dt>
<dd>print a short usage message and exit</dd>
<dt><code class="code docutils literal"><span class="pre">-V</span></code>, <code class="code docutils literal"><span class="pre">--version</span></code></dt>
<dd>print version and exit</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="id9">
<h3>3.5.3. Example<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>Run the command <code class="code docutils literal"><span class="pre">echo</span> <span class="pre">hello</span></code> inside a Charliecloud container using the
unpacked image at <code class="code docutils literal"><span class="pre">/data/foo</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ch-run /data/foo -- <span class="nb">echo</span> hello
<span class="go">hello</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ch-ssh">
<h2>3.6. ch-ssh<a class="headerlink" href="#ch-ssh" title="Permalink to this headline">¶</a></h2>
<p>Run a remote command in a Charliecloud container.</p>
<div class="section" id="id10">
<h3>3.6.1. Synopsis<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nv">CH_RUN_ARGS</span><span class="o">=</span><span class="s2">&quot;NEWROOT [ARG...]&quot;</span>
<span class="gp">$</span> ch-ssh <span class="o">[</span>OPTION...<span class="o">]</span> HOST CMD <span class="o">[</span>ARG...<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h3>3.6.2. Description<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>Runs command <code class="code docutils literal"><span class="pre">CMD</span></code> in a Charliecloud container on remote host
<code class="code docutils literal"><span class="pre">HOST</span></code>. Use the content of environment variable <code class="code docutils literal"><span class="pre">CH_RUN_ARGS</span></code> as
the arguments to <code class="code docutils literal"><span class="pre">ch-run</span></code> on the remote host.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Words in <code class="code docutils literal"><span class="pre">CH_RUN_ARGS</span></code> are delimited by spaces only; it is not shell
syntax.</p>
</div>
</div>
<div class="section" id="id12">
<h3>3.6.3. Example<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>On host bar.example.com, run the command <code class="code docutils literal"><span class="pre">echo</span> <span class="pre">hello</span></code> inside a
Charliecloud container using the unpacked image at <code class="code docutils literal"><span class="pre">/data/foo</span></code> with
starting directory <code class="code docutils literal"><span class="pre">/baz</span></code>:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> hostname
<span class="go">foo</span>
<span class="gp">$</span> <span class="nb">export</span> <span class="nv">CH_RUN_ARGS</span><span class="o">=</span><span class="s1">&#39;--cd /baz /data/foo&#39;</span>
<span class="gp">$</span> ch-ssh bar.example.com -- hostname
<span class="go">bar</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="ch-tar2dir">
<h2>3.7. ch-tar2dir<a class="headerlink" href="#ch-tar2dir" title="Permalink to this headline">¶</a></h2>
<p>Unpack an image tarball into a directory.</p>
<div class="section" id="id13">
<h3>3.7.1. Synopsis<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ch-tar2dir TARBALL DIR
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h3>3.7.2. Description<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>Extract the tarball <code class="code docutils literal"><span class="pre">TARBALL</span></code> into a subdirectory of <code class="code docutils literal"><span class="pre">DIR</span></code>.
<code class="code docutils literal"><span class="pre">TARBALL</span></code> must contain a Linux filesystem image, e.g. as created by
<code class="code docutils literal"><span class="pre">ch-docker2tar</span></code>.</p>
<p>Inside <code class="code docutils literal"><span class="pre">DIR</span></code>, a subdirectory will be created whose name corresponds to
the name of the tarball with the <code class="code docutils literal"><span class="pre">.tar.gz</span></code> suffix removed. If such a
directory exists already and appears to be a Charliecloud container image, it
is removed and replaced. If the existing directory doesn’t appear to be a
container image, the script aborts with an error.</p>
<p>Additional arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt><code class="code docutils literal"><span class="pre">--help</span></code></dt>
<dd>print help and exit</dd>
<dt><code class="code docutils literal"><span class="pre">--verbose</span></code></dt>
<dd>be more verbose</dd>
<dt><code class="code docutils literal"><span class="pre">--version</span></code></dt>
<dd>print version and exit</dd>
</dl>
</div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Placing <code class="code docutils literal"><span class="pre">DIR</span></code> on a shared file system can cause significant metadata
load on the file system servers. This can result in poor performance for
you and all your colleagues who use the same file system. Please consult
your site admin for a suitable location.</p>
</div>
</div>
<div class="section" id="id15">
<h3>3.7.3. Example<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ls -lh /var/tmp
<span class="go">total 57M</span>
<span class="go">-rw-r-----  1 reidpr reidpr  57M Feb 13 16:14 hello.tar.gz</span>
<span class="gp">$</span> ch-tar2dir /var/tmp/hello.tar.gz /var/tmp
<span class="go">creating new image /var/tmp/hello</span>
<span class="go">/var/tmp/hello unpacked ok</span>
<span class="gp">$</span> ls -lh /var/tmp
<span class="go">total 57M</span>
<span class="go">drwxr-x--- 22 reidpr reidpr 4.0K Feb 13 16:29 hello</span>
<span class="go">-rw-r-----  1 reidpr reidpr  57M Feb 13 16:14 hello.tar.gz</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="virtualbox.html" class="btn btn-neutral float-right" title="4. VirtualBox appliance" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorial.html" class="btn btn-neutral" title="2. Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; <a href="copyright.html">Copyright</a> 2014–2018, Los Alamos National Security, LLC.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>